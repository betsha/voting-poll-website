<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Poll Results</title>
    <link rel="stylesheet" href="style.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
    <div class="container">
        <h1>Poll Results</h1>

        <canvas id="chart1"></canvas>
        <canvas id="chart2"></canvas>
        <canvas id="chart3"></canvas>
        <canvas id="chart4"></canvas>

        <button onclick="location.href='index.html'">Back to Home</button>
    </div>

    <script>
        const votes = JSON.parse(localStorage.getItem('allVotes')) || {
            q1: { Python:0, JavaScript:0, Java:0 },
            q2: { "VS Code":0, PyCharm:0, IntelliJ:0 },
            q3: { Google:0, Microsoft:0, Apple:0 },
            q4: { Android:0, iOS:0, Others:0 },
        };

        const colors = ['#FF6384', '#36A2EB', '#FFCE56'];

        function createChart(canvasId, data) {
            new Chart(document.getElementById(canvasId), {
                type: 'pie',
                data: {
                    labels: Object.keys(data),
                    datasets: [{
                        data: Object.values(data),
                        backgroundColor: colors
                    }]
                },
            });
        }

        createChart('chart1', votes.q1);
        createChart('chart2', votes.q2);
        createChart('chart3', votes.q3);
        createChart('chart4', votes.q4);
    </script>
</body>
</html>
